<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>home</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">    
        <link rel="stylesheet" href="{{url_for('static', filename='css/home.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/style.css')}}">
        <link rel="stylesheet" href="{{url_for('static', filename='css/createpost.css')}}"/>
        <link rel="stylesheet" href="{{url_for('static', filename='css/header.css')}}">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abel">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
        <script src="{{url_for('header_js')}}"></script>
        <script src="{{url_for('home_js')}}"></script>
        <script src="{{url_for('main_js')}}" defer></script>
    </head>
    <body  id="body_home">
        <div class="container">
            <header-component></header-component>
        </div>
        <div id="text_home1">
            Got Something to share ?
        </div>
        <button class="button3" id="button_home1">
            <div id="text_home2" class="text2">
                Post your own blog
            </div>
            
        </button>
        <rect id="rect_home1"></rect>
        <rect id="rect_home2"></rect>
        <rect id="rect_home3"></rect>

        <div class="multiple_post" id="mul_post_home1">

            <div id="tag_pop_home" class="pop_up">
                <div class="close_pop">
                    Close
                </div>
                <rect id="rect_tag_home">
                    <form>
                        <input type="text" id="search_tag_home" class="form1" placeholder="Search tag">
                    </form>
                    <rect id="hr_tag_home"></rect>
                    <div id="button_tag_home"></div>
                </rect>
            </div>

            <div id="sort_pop_home" class="pop_up">
                    <rect id="rect_sort_home">
                        <button id="button_sort_home1" class="button_inv" name="button_sort_home1" type="submit">
                            <rect id="rect_time_home"></rect>
                            <div id="text_sort_home1" class="text7">
                                By Time
                            </div>
                        </button>
                        <button id="button_sort_home2" class="button_inv" name="button_sort_home1" type="submit">
                            <rect id="rect_up_home"></rect>
                            <div id="text_sort_home2" class="text7">
                                By upvotes
                            </div>
                        </button>
                    </rect>
            </div>

            <div class="outer_post" id="out_post_home1">
                <form>
                    <input class="form3" id="inp_home1" placeholder="Search">
                </form>
                <button class="form3" id="button_home2">
                    <div class="text1" id="text_home5">
                        Add Tag
                    </div>
                </button>
                <button class="form3" id="button_home3">
                    <div class="text1" id="text_home6">
                        Sort
                    </div>
                </button>
            </div>
            {% for post_info in feed %}
                {% set ct = loop.index %}
                <div class="outer_post out_post_home2"  id="out_post_home_id-{{ct-1}}">
                    <a href = "{{url_for('post', post_id=post_info[0])}}">
                        <rect class="inner_post inner_post_home"></rect>
                    </a>

                    <rect class="profile_bar" id="pbar_home"></rect>
                    <div class="text1">
                        <div class="text_home7">
                            Posted {{post_info[3]}} ago
                        </div>
                    </div>
                    <div class="post_author">
                        <rect id="rect_home5"></rect>
                        <a href="{{url_for('profile', username=post_info[4])}}">
                            <div class="text1">
                                <div class="text_home8">
                                    {{post_info[4]}}
                                </div>
                            </div>
                            <rect id="rect_profile_home"></rect>
                        </a>
                    </div>
                    <!-- <div class="follow text_home9"></div> -->

                    <form action="{{url_for('follow_account')}}" method="post">
                        <button class="button button_inv" type="submit" id="follow_button-{{ct-1}}" name="follow_button-{{ct-1}}">
                            <div class="follow text_home9"></div>
                        </button>
                    </form>

                    <!-- <form method="POST" action="{{url_for('upvote_for_post')}}"
                        <button class="triangle-up button_inv" id="del_home1" type="submit"></button>
                    </form> -->
                    <form action="{{url_for('upvote_for_post')}}" method="post">
                        <button class="button_inv" type="submit" id="triangle_upvote_button-{{ct-1}}" name="triangle_upvote_button-{{ct-1}}">
                            <div class="triangle-up" id="del_home1"></div>
                        </button>
                    </form>

                    <div class="text1" id="text_home10">
                        <div class="upvote">{{post_info[1]}}</div>
                    </div>
                    <rect id="rect_home4"></rect>
                    <div class="text3 text_home3"></div>
                    <rect class="cover_content_home">
                        <div class="text4 text_home4"></div>
                    </rect>
                </div>
            {% endfor %}
        </div>

        <div class="multiple_post" id="mul_post_home2">
            <div class="outer_post" id="out_post_home4">
                <div id="text_home11" class="text1">
                    Global Statistics
                </div>
            </div>

            <div class="outer_post" id="out_post_home5">
                <div id="text_home12" class="text5">
                    Top Contributers (Institution)
                </div>
                <ol class="text6 list_home1">
                    <li class="list1">
                        <a href="{{url_for('institute')}}">
                            <div class="text6">
                                Indian Institute Of Technology Delhi
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('institute')}}">
                            <div class="text6">
                                Indian Institute Of Technology Bombay
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('institute')}}">
                            <div class="text6">
                                Indian Institute Of Technology Ropar
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('institute')}}">
                            <div class="text6">
                                Indian Institute Of Technology Kanpur
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('institute')}}">
                            <div class="text6">
                                Indian Institute Of Technology Delhi
                            </div>
                        </a>
                    </li>
                </ol>
            </div>

            <div class="outer_post" id="out_post_home6">
                <div id="text_home12" class="text5">
                    Top Contributers (Individual)
                </div>
                <ol class="text6 list_home1">
                    <li class="list1">
                        <a href="{{url_for('profile',username=session['user']['username'])}}">
                            <div class="text6">
                                dstone
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('profile',username=session['user']['username'])}}">
                            <div class="text6">
                                samuel49
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('profile',username=session['user']['username'])}}">
                            <div class="text6">
                                cmurphy
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('profile',username=session['user']['username'])}}">
                            <div class="text6">
                                kingsara
                            </div>
                        </a>
                    </li>
                                        <li class="list1">
                        <a href="{{url_for('profile',username=session['user']['username'])}}">
                            <div class="text6">
                                kevin52
                            </div>
                        </a>
                    </li>
                </ol>post_id
            </div>

            <div class="outer_post" id="out_post_home7">
                <div id="text_home12" class="text5">
                    Most liked posts
                </div>
                <ol class="text6 list_home1">
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Playing Chess is a good habit
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Lets eat togethor
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Flat Earth is real!
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Scientists found new variant of Covid
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                World will be destroyed in 2012
                            </div>
                        </a>
                    </li>
                </ol>
            </div>
            
            <div class="outer_post" id="out_post_home8">
                <div id="text_home12" class="text5">
                    Most viewed posts
                </div>
                <ol class="text6 list_home1">
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Suicide at IIT Delhi
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Increasing population is concern!
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Say no to PDA
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                Cheers for COP Assignment
                            </div>
                        </a>
                    </li>
                    <li class="list1">
                        <a href="{{url_for('post', post_id='')}}">
                            <div class="text6">
                                One Piece is real !!!!!!
                            </div>
                        </a>
                    </li>
                </ol>
            </div>
        </div>

        <!-- <div class="pop_up" id="post_own_home">
            <rect id="rect_main">
            </rect>
            <form action="{{url_for('post_input')}}" method="post">
                <input type="text" id="post_title" name="posttit" placeholder="Title" class="form2"><br>
                <input type="text" id="post_tags" name="posttags" placeholder="Tags" class="form2"><br>
                <rect id ="rect_files"></rect>
                <label id="attach_files"> + Attach files:
                    <input type="file" id="file-upload1" name="file-upload1", multiple>
                </label><br>
                <label id="attach_images"> + Add Images:
                    <input type="file" id="file-upload2" name="file-upload2", multiple>
                </label><br>
                <label id="attach_videos"> + Add Videos:
                    <input type="file" id="file-upload3" name="file-upload3", multiple>
                </label><br>
                <input type="text" id="post_inst" name="postinst" placeholder="Institutes" class="form2" value=""><br>
                <textarea name="post_description" placeholder ="Description" class="longInput" id = "post_description" cols="30" rows="10"></textarea>
                <button type="submit" id="create_post">Post</button><br>
                <rect type = "button" id = "close_post_home", style="color: rgb(188, 188, 188);"> Close </rect>
                </form>
        </div> -->

        <div class="pop_up" id="post_own_home">
            <rect id="rect_main">
            </rect>
            <form action="{{url_for('post_input')}}" method="post" enctype="multipart/form-data">
                <input type="text" id="post_title" name="posttit" placeholder="Title" class="form2"><br>
                <input type="text" id="post_tags" name="posttags" placeholder="Tags" class="form2"><br>
                <rect id ="rect_files"></rect>
                <!-- <label id="attach_files"> + Attach Zip:
                    <input type="file" id="file-upload1" name="file-upload1" accept=".zip">
                </label><br> -->
                <label for="zip-upload_Devang" id = "attach_files">+ Attach Zip:</label>
                <input type="file" id="zip-upload_Devang" name="zipfile" accept=".zip" onchange="updateFileName()">
                <span id="selected-file"></span>
                <label for="Image-upload_Devang" id = "attach_images">+ Attach Image:</label>
                <input type="file" id="Image-upload_Devang" name="imagefile" accept="image/jpeg" onchange="updateFileName2()">
                <span id="selected-file2"></span>
                <!-- <label id="attach_images"> + Add Images:
                    <input type="file" id="file-upload2" name="file-upload2" accept="image/jpeg">
                </label><br> -->
                <!-- <label id="attach_videos"> + Add Videos:
                    <input type="file" id="file-upload3" name="file-upload3" >
                </label><br> -->
                <input type="text" id="post_inst" name="postinst" placeholder="Institutes" class="form2" value=""><br>
                <textarea name="post_description" placeholder ="Description" class="longInput" id = "post_description" cols="30" rows="10"></textarea>
                <button type="submit" id="create_post">Post</button><br>
                <rect type = "button" id = "close_post_home", style="color: rgb(188, 188, 188);"> Close </rect>
                </form>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js" integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js" integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ" crossorigin="anonymous"></script>
    </body>
</html>